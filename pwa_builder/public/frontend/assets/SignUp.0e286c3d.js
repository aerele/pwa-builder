import{_ as M,l as a,a as i,e as D,o as w,f as g,n as s,g as t,w as d,u as o,q as h,A as x,v as V,x as k,z as C,j as O,T as z,J as A,K as J,m as K}from"./vendor.412e1a19.js";const Q=u=>(A("data-v-4615cd60"),u=u(),J(),u),W={class:"min-h-screen bg-[#f4f5f7] flex justify-center items-center"},X={class:"w-full max-w-lg sm:w-96 bg-white rounded-lg p-6 shadow-md"},Y={class:"w-full flex justify-center mb-4"},Z=["src"],ee=Q(()=>s("div",{class:"text-center mb-4"},[s("p",{class:"font-medium text-xl"},"Sign Up")],-1)),se={class:"relative mb-4"},ae={class:"relative mb-4"},te={key:0,class:"text-red-500 text-xs mb-4"},oe={key:1,class:"text-red-500 text-xs mb-4"},le={class:"text-center"},ne={class:"fixed bottom-0 w-full max-w-lg sm:w-96 p-3"},re={key:0,class:"w-full p-2 text-sm leading-5 text-white bg-blue-500 rounded-lg opacity-100 animate-slide-in-right animate-fade-out"},ie={__name:"SignUp",setup(u){const S=a(""),b=a(""),m=a(""),p=a(""),y=a(""),c=a(""),U=a(!1),v=a(!1),f=a(!1),_=a(!1),T=i(()=>/\S+@\S+\.\S+/.test(m.value)),L=i(()=>p.value===y.value),j=i(()=>f.value?"text":"password"),q=i(()=>_.value?"text":"password"),E=i(()=>f.value?"Hide":"Show"),N=i(()=>_.value?"Hide":"Show"),$=()=>{f.value=!f.value},R=()=>{_.value=!_.value},B=a(window.location.href),G=i(()=>{const n=new URL(B.value);return`${n.protocol}//${n.hostname}:8003`}),H=a(`${G.value}/assets`),I=()=>{const n=new Headers;n.append("Cookie","full_name=Guest; sid=Guest; system_user=no; user_id=Guest; user_image=");const e={method:"GET",headers:n,redirect:"follow"};fetch(H.value,e).then(r=>r.text()).then(r=>{const P=new DOMParser().parseFromString(r,"text/html").querySelector('link[rel="shortcut icon"]');P&&(S.value=P.href)}).catch(r=>console.error(r))},F=()=>{v.value=!0,U.value=!0,K({doctype:"User"}).insert.submit({email:m.value,first_name:b.value,new_password:p.value}).then(()=>{c.value="User Created successfully",v.value=!1}).catch(e=>{e.response&&e.response.status===417?c.value="Password is too weak":e.response&&e.response.status===409?c.value="Email already exists":(console.error("Error creating user:",e),c.value="Error creating User"),v.value=!1})};return I(),(n,e)=>{const r=D("router-link");return w(),g("div",W,[s("div",X,[s("div",Y,[s("img",{src:S.value,class:"w-16 h-16 object-cover rounded-lg"},null,8,Z)]),ee,s("div",null,[t(o(x),{required:"",type:"text",label:"Username",name:"username",modelValue:b.value,"onUpdate:modelValue":e[0]||(e[0]=l=>b.value=l),placeholder:"johndoe",class:"mb-4"},{prefix:d(()=>[t(o(h),{class:"w-4",name:"user"})]),_:1},8,["modelValue"]),t(o(x),{required:"",type:"email",label:"Email",name:"email",modelValue:m.value,"onUpdate:modelValue":e[1]||(e[1]=l=>m.value=l),placeholder:"johndoe@email.com",class:"mb-4"},{prefix:d(()=>[t(o(h),{class:"w-4",name:"mail"})]),_:1},8,["modelValue"]),s("div",se,[t(o(x),{required:"",label:"Password",name:"password",modelValue:p.value,"onUpdate:modelValue":e[2]||(e[2]=l=>p.value=l),type:j.value,placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022",class:"w-full"},{prefix:d(()=>[t(o(h),{class:"w-4",name:"lock"})]),_:1},8,["modelValue","type"]),s("span",{onClick:$,class:"absolute right-2 top-5 cursor-pointer text-gray-600 text-sm p-2"},V(E.value),1)]),s("div",ae,[t(o(x),{required:"",label:"Confirm Password",name:"confirmPassword",modelValue:y.value,"onUpdate:modelValue":e[3]||(e[3]=l=>y.value=l),type:q.value,placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022",class:"w-full"},{prefix:d(()=>[t(o(h),{class:"w-4",name:"lock"})]),_:1},8,["modelValue","type"]),s("span",{onClick:R,class:"absolute right-2 top-5 cursor-pointer text-gray-600 text-sm p-2"},V(N.value),1)]),U.value&&!T.value?(w(),g("div",te," Enter a valid email! ")):k("",!0),U.value&&!L.value?(w(),g("div",oe," Passwords do not match! ")):k("",!0),s("div",null,[t(o(O),{loading:v.value,variant:"solid",class:"w-full mb-4",onClick:F},{default:d(()=>[C(" Sign Up ")]),_:1},8,["loading"])]),s("div",le,[t(r,{to:"/login",class:"text-sm font-medium text-black hover:underline"},{default:d(()=>[C(" Back to Login ")]),_:1})])])]),s("div",ne,[t(z,{name:"fade"},{default:d(()=>[c.value?(w(),g("div",re,V(c.value),1)):k("",!0)]),_:1})])])}}};var ue=M(ie,[["__scopeId","data-v-4615cd60"]]);export{ue as default};
