import{D as P,E as R,l as t,a as i,e as D,o as d,f as c,n as e,H as G,g as s,w as o,u as a,q as k,A as V,x as f,v as H,z as w,j,T as S,F as N}from"./vendor.412e1a19.js";import{s as B}from"./index.33310f89.js";const A={class:"w-screen h-screen flex justify-center bg-[#f8f8f8] content-center items-center"},M={class:"w-full object-center justify-center flex mb-4"},O=["src"],z={class:"w-96 h-auto bg-white rounded-lg p-2"},I={class:"p-2 w-full flex items-center justify-center"},J={class:"mt-2"},K={class:"p-2 w-80"},Q={key:0,class:"text-red-500 text-xs pl-2"},W={class:"p-2 w-80 relative"},X={key:0,class:"text-red-500 text-xs pl-2"},Y={class:"w-full"},Z={class:"p-2 w-80 mt-2"},ee=e("div",{class:"w-80 p-1 flex justify-center"},[e("p",{class:"text-gray-600 text-lg"},"or")],-1),se={class:"p-2 pt-1 w-80 mt-2"},te={class:"fixed bottom-0 flex justify-end w-full sm:w-96"},oe={key:0,class:"w-full sm:w-72 p-2 mb-4 text-sm leading-5 text-white bg-green-500 rounded-lg opacity-100 font-regular animate-slide-in-right animate-fade-out"},ae={key:0,class:"w-full sm:w-72 p-2 mb-4 text-sm leading-5 text-white bg-red-500 rounded-lg opacity-100 font-regular animate-slide-in-right animate-fade-out"},ce=P({__name:"Login",setup(le){R();const u=t(""),p=t(""),m=t(!1),L=t(!1),C=t(!1),_=t(!1),h=i(()=>u.value.includes("@")||u.value==="Administrator"),x=i(()=>!!p.value),T=i(()=>m.value?"text":"password"),U=i(()=>m.value?"Hide":"Show"),E=()=>{m.value=!m.value},$=v=>{if(_.value=!0,!h.value||!x.value)return;const l=t(""),g=t(window.location.href),r=i(()=>{const n=new URL(g.value);return`${n.protocol}//${n.hostname}`}),q=i(()=>`${r.value}:8003/assets`),y=new Headers;y.append("Cookie","full_name=Guest; sid=Guest; system_user=no; user_id=Guest; user_image=");const F={method:"GET",headers:y,redirect:"follow"};fetch(q.value,F).then(n=>n.text()).then(n=>{const b=new DOMParser().parseFromString(n,"text/html").querySelector('link[rel="shortcut icon"]');b&&(l.value=b.href)})};return(v,l)=>{const g=D("router-link");return d(),c(N,null,[e("div",A,[e("div",null,[e("div",M,[e("img",{src:v.imageSrc,class:"w-16 h-16 object-cover rounded-lg"},null,8,O)]),e("div",z,[e("form",{onSubmit:G($,["prevent"])},[e("div",I,[e("div",J,[e("div",K,[s(a(V),{required:"",type:"text",label:"User ID",name:"email",modelValue:u.value,"onUpdate:modelValue":l[0]||(l[0]=r=>u.value=r),placeholder:"johndoe@email.com"},{prefix:o(()=>[s(a(k),{class:"w-4",name:"mail"})]),_:1},8,["modelValue"]),_.value&&!h.value?(d(),c("div",Q," Enter a valid email ")):f("",!0)]),e("div",W,[s(a(V),{required:"",label:"Password",name:"password",modelValue:p.value,"onUpdate:modelValue":l[1]||(l[1]=r=>p.value=r),type:T.value,placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022"},{prefix:o(()=>[s(a(k),{class:"w-4",name:"lock"})]),_:1},8,["modelValue","type"]),e("span",{onClick:E,class:"absolute right-2 top-7 cursor-pointer text-gray-600 text-sm p-2"},H(U.value),1),_.value&&!x.value?(d(),c("div",X," Enter password ")):f("",!0)]),e("div",Y,[s(g,{to:"/forget-password",class:"pb-1 text-xs text-gray-600 justify-end flex pr-2 hover:underline"},{default:o(()=>[w(" Forgot Password? ")]),_:1})]),e("div",Z,[s(a(j),{loading:a(B).login.loading,variant:"solid",class:"w-full"},{default:o(()=>[w("Login")]),_:1},8,["loading"])]),ee,e("div",se,[s(a(j),{variant:"subtle",class:"w-full",onClick:v.goToSignUp},{default:o(()=>[w("Sign up")]),_:1},8,["onClick"])])])])],32)])])]),e("div",te,[s(S,{name:"fade"},{default:o(()=>[L.value?(d(),c("div",oe," Login successfully ")):f("",!0)]),_:1}),s(S,{name:"fade"},{default:o(()=>[C.value?(d(),c("div",ae," Login failed ")):f("",!0)]),_:1})])],64)}}});export{ce as default};
